(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,a){e.exports=a(51)},51:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(12),c=a.n(o),l=a(14),u=a(52),s=a(53),i=a(54),m=a(55),p=a(56),E=a(57),d=a(58),f=a(59),h=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),o=a[0],c=a[1];return r.a.createElement("div",null,r.a.createElement(u.a,{color:"light",light:!0,expand:"md",className:"py-0"},r.a.createElement(s.a,null,r.a.createElement(i.a,{href:"/"},r.a.createElement("img",{src:"https://img.icons8.com/color/48/000000/us-airborne.png",alt:""})),r.a.createElement(m.a,{onClick:function(){return c(!o)}}),r.a.createElement(p.a,{isOpen:o,navbar:!0},r.a.createElement(E.a,{className:"ml-auto",navbar:!0},r.a.createElement(d.a,null,r.a.createElement(f.a,{href:"#"},"Hi\u1ec7n T\u01b0\u1ee3ng C\u1ea3m \u1ee8ng \u0110i\u1ec7n T\u1eeb")),r.a.createElement(d.a,null,r.a.createElement(f.a,{href:"#"},"D\xf2ng \u0110i\u1ec7n Xoay Chi\u1ec1u")),r.a.createElement(d.a,null,r.a.createElement(f.a,{href:"#"},"Hi\u1ec7u \u0110i\u1ec7n Th\u1ebf SOLO C\u01b0\u1eddng \u0110\u1ed9 D\xf2ng \u0110i\u1ec7n")))))))},g=a(60),O=a(68),y=a(69),b=a(16),S=a(10),v=a.n(S),R=a(17),_=function(e,t,a){return{type:"GET_ERRORS",payload:{msg:e,status:t,id:a}}},j=a(61),k=a(70),T=a(62),C=a(63),I=a(64),w=a(65),L=a(66),x=a(67);var N=Object(b.b)((function(e){return{error:e.error,auth:e.auth}}),{register:function(e,t,a){return function(n){fetch("/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:a})}).then(function(){var e=Object(R.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(a=e.sent,404!==t.status){e.next=7;break}return n(_(a.msg,404)),n({type:"REGISTER_FAIL"}),e.abrupt("return");case 7:return n({type:"CLEAR_ERRORS"}),n({type:"REGISTER_SUCCESS",payload:a}),e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},login:function(e,t){return function(a){fetch("/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(function(){var e=Object(R.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,404!==t.status){e.next=8;break}return console.log("login fail",n.msg),a(_(n.msg,404)),a({type:"LOGIN_FAIL"}),e.abrupt("return");case 8:return console.log("login success"),a({type:"CLEAR_ERRORS"}),a({type:"LOGIN_SUCCESS",payload:n}),e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},logout:function(){return function(e){e({type:"LOGOUT_SUCCESS"})}}})((function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),o=a[0],c=a[1],u=Object(n.useState)(!1),s=Object(l.a)(u,2),i=s[0],m=s[1],p=Object(n.useState)(""),E=Object(l.a)(p,2),d=E[0],f=E[1],h=Object(n.useState)(""),O=Object(l.a)(h,2),y=O[0],b=O[1],S=Object(n.useState)(""),v=Object(l.a)(S,2),R=v[0],_=v[1],N=function(){return c(!o)},A=function(){return m(!i)};return r.a.createElement("div",{className:"mb-3"},r.a.createElement(g.a,{color:"primary",onClick:N,className:"mr-3"},"\u0110\u0103ng k\xfd"),r.a.createElement(g.a,{color:"success",onClick:A,className:"mr-3"},"\u0110\u0103ng nh\u1eadp"),e.auth.token?r.a.createElement(g.a,{color:"success",onClick:function(){e.logout()}},"\u0110\u0103ng xu\u1ea5t"):"",e.error.msg?r.a.createElement(j.a,{color:"danger",className:"mt-1"},e.error.msg):"",r.a.createElement(k.a,{isOpen:i},r.a.createElement(T.a,{toggle:A},"Login"),r.a.createElement(C.a,null,r.a.createElement(I.a,{onSubmit:function(t){t.preventDefault(),e.login(y,R),f(""),b(""),_("")}},r.a.createElement(w.a,null,r.a.createElement(L.a,{for:"email1"},"Email"),r.a.createElement(x.a,{type:"email",name:"email",id:"email1",placeholder:"Require",value:y,onChange:function(e){return b(e.target.value)}})),r.a.createElement(w.a,null,r.a.createElement(L.a,{for:"examplePassword1"},"Password"),r.a.createElement(x.a,{type:"password",name:"password",id:"examplePassword1",placeholder:"Require",value:R,onChange:function(e){return _(e.target.value)}})),r.a.createElement(g.a,{type:"submit",color:"secondary",onClick:A,className:"btn-block"},"Submit")))),r.a.createElement(k.a,{isOpen:o},r.a.createElement(T.a,{toggle:N},"Register"),r.a.createElement(C.a,null,r.a.createElement(I.a,{onSubmit:function(t){t.preventDefault(),e.register(d,y,R),f(""),b(""),_("")}},r.a.createElement(w.a,null,r.a.createElement(L.a,{for:"name"},"Name"),r.a.createElement(x.a,{type:"text",name:"name",id:"name",placeholder:"Require",value:d,onChange:function(e){return f(e.target.value)}})),r.a.createElement(w.a,null,r.a.createElement(L.a,{for:"email"},"Email"),r.a.createElement(x.a,{type:"email",name:"email",id:"email",placeholder:"Require",value:y,onChange:function(e){return b(e.target.value)}})),r.a.createElement(w.a,null,r.a.createElement(L.a,{for:"examplePassword"},"Password"),r.a.createElement(x.a,{type:"password",name:"password",id:"examplePassword",placeholder:"Require",value:R,onChange:function(e){return _(e.target.value)}})),r.a.createElement(g.a,{type:"submit",color:"secondary",onClick:N,className:"btn-block"},"Submit")))))}));var A=Object(b.b)((function(e){return{item:e.item,auth:e.auth}}),{loadUser:function(){return function(e,t){e({type:"USER_LOADING"});var a=t().auth.token;fetch("/api/users/user",{headers:{"x-auth-token":a}}).then(function(){var t=Object(R.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.json();case 2:if(n=t.sent,404!==a.status){t.next=8;break}return console.log("load user error",n),e(_(n.msg,404)),e({type:"AUTH_ERROR"}),t.abrupt("return");case 8:return e({type:"CLEAR_ERRORS"}),e({type:"USER_LOADED",payload:n}),console.log("get current user",n),t.abrupt("return");case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},getItems:function(){return function(e,t){e({type:"LOAD_ITEMS"}),t().auth.token&&fetch("/api/items",{headers:{"x-auth-token":t().auth.token}}).then(function(){var t=Object(R.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(a),404!==a.status){t.next=4;break}return a.json().then((function(t){e(_(t.msg,404))})),t.abrupt("return",[]);case 4:return t.next=6,a.json();case 6:n=t.sent,e({type:"GET_ITEMS",payload:n});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},setItem:function(e){return function(t,a){fetch("/api/items",{method:"POST",headers:{"x-auth-token":a().auth.token,"Content-Type":"application/json"},body:JSON.stringify({name:e})}).then((function(e){return e.json()})).then((function(e){return t({type:"ADD_ITEM",payload:e})}))}},delItem:function(e){return function(t,a){fetch("api/items/"+e,{method:"DELETE",headers:{"x-auth-token":a().auth.token,"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){t({type:"DELETE_ITEM",payload:e})}))}}})((function(e){Object(n.useEffect)((function(){e.loadUser(),e.getItems()}),[e.auth.token]);var t=e.item.items;return console.log("items",t),r.a.createElement(s.a,{className:"mt-3"},r.a.createElement(N,null),e.auth.isAuth?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{color:"info",onClick:function(){var t=prompt("T\u1ea1o m\u1edbi item:");t&&e.setItem(t)}},"Create new item"),r.a.createElement(O.a,{className:"mt-3"},t.map((function(t){return r.a.createElement(y.a,{key:t._id},r.a.createElement(g.a,{color:"danger mr-3",size:"sm",style:{boxShadow:"none"},onClick:function(){e.delItem(t._id)}},"\xd7"),t.name)})))):"")}));var D=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement(A,null))},U=(a(50),a(15)),G=a(30),M=a(31),P=a(11),F={items:[],loading:!1};var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_ITEMS":return Object(P.a)({},e,{loading:!0});case"GET_ITEMS":return Object(P.a)({},e,{loading:!1,items:t.payload});case"ADD_ITEM":return Object(P.a)({},e,{items:[t.payload].concat(Object(M.a)(e.items))});case"DELETE_ITEM":return Object(P.a)({},e,{items:e.items.filter((function(e){return e._id!==t.payload}))});default:return e}},J={token:localStorage.getItem("token"),isAuth:!1,loading:!1,user:null},X={msg:"",status:null,id:null},H=(0,a(15).combineReducers)({item:q,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(P.a)({},e,{loading:!0});case"USER_LOADED":return Object(P.a)({},e,{loading:!1,isAuth:!0,user:t.payload});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(P.a)({},e,{isAuth:!0,loading:!1},t.payload);case"LOGIN_FAIL":case"REGISTER_FAIL":case"LOGOUT_SUCCESS":case"AUTH_ERROR":return localStorage.removeItem("token"),{isAuth:!1,loading:!1,user:null,token:null};default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":var a=t.payload,n=a.msg,r=a.status,o=a.id;return{msg:n,status:r,id:o};case"CLEAR_ERRORS":return X;default:return e}}}),V=[G.a],z=Object(U.createStore)(H,Object(U.compose)(U.applyMiddleware.apply(void 0,V),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));c.a.render(r.a.createElement(b.a,{store:z},r.a.createElement(D,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.3340fcbe.chunk.js.map